<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Online portfolio - Andrea Orofino</title>
   <link href="css/normalize.css" rel="stylesheet">
   <link href="css/stylesheet.css" rel="stylesheet">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="icon" href="images/logo.png" type="image/png">

</head>
<body>
   <a id="top"></a>
   <div id="wrapper">
      <header class="Contact Me">
         <nav class="navbar">
            <a href="index.html"><img src="images/logo.png" class="nav-logo"></a>
            <ul class="nav-menu">
               <li class="nav-item">
                  <a href="index.html" class="nav-link">About Me</a>
               </li>
               <li class="nav-item">
                  <a href="resume.html" class="nav-link">Resume</a>
               </li>
               <li class="nav-item">
                  <a href="projects.html" class="nav-link">Projects</a>
               </li>
               <li class="nav-item">
                  <a href="contact.html" class="nav-link">Contact Me</a>
               </li>
            </ul>
            <div class="hamburger">
               <span class="bar"></span>
               <span class="bar"></span>
               <span class="bar"></span>
            </div>
         </nav>
      </header>
      <!-- Place the image here -->
      <a><img src="images/fabrizio-coco-unsplash.jpg" class="contact-background"></a>
      <!-- Contact form -->
      <div id="contact-form">
         <h1 class="contact-me">CONTACT ME</h1>
         <h3 class="contact-sub">Fill out below to get in contact with me.</h3>
         <div id="message-container">
   <p id="failure" style="color: red;">Your message did not send; you made a mistake!</p>
   <p id="success" style="color: green;">Your message was sent successfully. I will get back to you as soon as possible.</p>

</div>
<form id="contactForm" action="https://script.google.com/macros/s/AKfycbxpHCzpm_kESYAxDfpI2HNsAIjN1MShe7xsF3fdbvY3-9EwNXp0hlDHICOcVyrsN7r7/exec" method="POST">

    <div>
       <label for="name">
          <span class="required">name: *</span>
          <input type="text" id="name" name="name" value="" placeholder="Your name" required="required" tabindex="1" autofocus="autofocus" />
       </label>
    </div>
    <div>
       <label for="email">
          <span class="required">Email: *</span>
          <input type="email" id="email" name="email" value="" placeholder="Your email" tabindex="2" required="required" />
       </label>
    </div>
    <div>
       <label for="subject">
          <span>Subject: </span>
          <input type="text" id="subject" name="subject" value="" placeholder="subject" tabindex="3" />
       </label>
    </div>
    <div>
       <label for="message">
          <span class="required">Message: *</span>
          <textarea id="message" name="message" placeholder="Please write your message here." tabindex="4" required="required"></textarea>
       </label>
    </div>
    <div>
       <button name="submit" type="submit" id="submit">SEND</button>
    </div>
 </form>



      </div>
   </div>
   <script>
   document.getElementById('contactForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission behavior

      var formData = new FormData(this);

      fetch('https://script.google.com/macros/s/AKfycbxpHCzpm_kESYAxDfpI2HNsAIjN1MShe7xsF3fdbvY3-9EwNXp0hlDHICOcVyrsN7r7/exec', {
         method: 'POST',
         body: formData,
      })
      .then(response => response.text()) // Read response as plain text
      .then(data => {
         // Debugging: Check the actual response from the server
         console.log('Response from server:', data);

         // Handle the response from the server
         if (data.startsWith('Success')) { // Check if the response starts with 'Success'
            document.getElementById('success').style.display = 'block';
            document.getElementById('failure').style.display = 'none';
         } else {
            document.getElementById('success').style.display = 'none';
            document.getElementById('failure').style.display = 'block';

            // Debugging: Display the error message in the console
            console.error('Error message from server:', data);
         }
      })
      .catch(error => {
         console.error('Error:', error);
         document.getElementById('success').style.display = 'none';
         document.getElementById('failure').style.display = 'block';
      });
   });
</script>









</body>
</html>
